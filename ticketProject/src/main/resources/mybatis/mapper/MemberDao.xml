<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
	
<mapper namespace="com.ticket.t1.dao.IMemberDao">

	<resultMap id="memberMap" type="java.util.HashMap"></resultMap>
	<resultMap id="memberMap2" type="com.ticket.t1.util.Lowercase"></resultMap>
	
	<select id="getMember" statementType="CALLABLE" parameterType="java.util.HashMap">
		{
			CALL getMember( 
				#{id}, 
				#{ref_cursor, mode=OUT, jdbcType=CURSOR, javaType=ResultSet, resultMap=memberMap2 }	)
		}
	</select>
	
	<insert id="joinKakao" statementType="CALLABLE" parameterType="java.util.HashMap">
		{
			CALL joinKakao(
				#{id}, #{name}, #{email}, #{provider} 
			)
		}
	</insert>
	
	<insert id="insertMember" statementType="CALLABLE" parameterType="java.util.HashMap">
		{
			CALL insertMember(
				#{id}, #{pwd}, #{name}, #{email}, #{phone}, #{nickname}, #{gender},  #{birth}, #{zip_num}, #{address1} , #{address2}, #{address3} , #{grade} , #{success} , #{useyn} 
			)
		}	
	</insert>
	
	
	
	
	
	
</mapper>